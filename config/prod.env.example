# DEX Sniper Pro - Production Environment Configuration
# File: config/prod.env.example

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
SERVICE_MODE=enterprise

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
RELOAD=false

# Frontend Configuration (behind load balancer)
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://dex_user:STRONG_PRODUCTION_PASSWORD@db-cluster.internal:5432/dex_sniper_prod
DATABASE_ECHO=false
DATABASE_POOL_SIZE=50
DATABASE_MAX_OVERFLOW=100

# Connection pooling (optimized for production)
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=1800
DATABASE_POOL_PRE_PING=true

# Read replicas for analytics
DATABASE_READ_URL=postgresql://dex_user:STRONG_PRODUCTION_PASSWORD@db-read.internal:5432/dex_sniper_prod

# =============================================================================
# BLOCKCHAIN RPC ENDPOINTS (MAINNETS WITH MULTIPLE PROVIDERS)
# =============================================================================
# Ethereum Mainnet
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_PRODUCTION_KEY
ETHEREUM_RPC_FALLBACK=https://mainnet.infura.io/v3/YOUR_INFURA_KEY,https://rpc.ankr.com/eth,https://ethereum.publicnode.com
ETHEREUM_CHAIN_ID=1

# BSC Mainnet
BSC_RPC_URL=https://bsc-dataseed1.binance.org
BSC_RPC_FALLBACK=https://bsc-dataseed2.binance.org,https://bsc-dataseed3.binance.org,https://rpc.ankr.com/bsc
BSC_CHAIN_ID=56

# Polygon Mainnet
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_POLYGON_KEY
POLYGON_RPC_FALLBACK=https://polygon-rpc.com,https://rpc.ankr.com/polygon,https://polygon.publicnode.com
POLYGON_CHAIN_ID=137

# Base Mainnet
BASE_RPC_URL=https://mainnet.base.org
BASE_RPC_FALLBACK=https://base.publicnode.com,https://base.drpc.org
BASE_CHAIN_ID=8453

# Arbitrum One
ARBITRUM_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_ARBITRUM_KEY
ARBITRUM_RPC_FALLBACK=https://arb1.arbitrum.io/rpc,https://arbitrum.publicnode.com,https://rpc.ankr.com/arbitrum
ARBITRUM_CHAIN_ID=42161

# Solana Mainnet
SOLANA_RPC_URL=https://solana-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_SOLANA_KEY
SOLANA_RPC_FALLBACK=https://api.mainnet-beta.solana.com,https://solana.publicnode.com
SOLANA_CLUSTER=mainnet-beta

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
DEFAULT_CHAIN=base
DEFAULT_SLIPPAGE=0.005
MAX_SLIPPAGE=0.02
DEFAULT_GAS_MULTIPLIER=1.1

# Risk Limits (GBP-based, production values)
MAX_POSITION_SIZE_GBP=10000.00
DAILY_LOSS_LIMIT_GBP=50000.00

# Autotrade Settings (production limits)
AUTOTRADE_ENABLED=true
AUTOTRADE_HOT_WALLET_CAP_GBP=100000.00

# =============================================================================
# EXTERNAL API KEYS (PRODUCTION TIER)
# =============================================================================
# Price Data (premium plans)
COINGECKO_API_KEY=YOUR_COINGECKO_PROFESSIONAL_KEY
DEXSCREENER_API_KEY=YOUR_DEXSCREENER_ENTERPRISE_KEY

# Blockchain Explorers (paid plans)
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_PROFESSIONAL_KEY
BSCSCAN_API_KEY=YOUR_BSCSCAN_PROFESSIONAL_KEY
POLYGONSCAN_API_KEY=YOUR_POLYGONSCAN_PROFESSIONAL_KEY
BASESCAN_API_KEY=YOUR_BASESCAN_PROFESSIONAL_KEY
ARBISCAN_API_KEY=YOUR_ARBISCAN_PROFESSIONAL_KEY

# Security Providers
HONEYPOT_API_KEY=YOUR_HONEYPOT_IS_API_KEY
GOPLUS_API_KEY=YOUR_GOPLUS_LABS_API_KEY
TOKEN_SNIFFER_API_KEY=YOUR_TOKEN_SNIFFER_KEY
DEXTOOLS_API_KEY=YOUR_DEXTOOLS_ENTERPRISE_KEY

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY=YOUR_PRODUCTION_SECRET_KEY_MINIMUM_64_CHARACTERS_LONG_WITH_HIGH_ENTROPY
JWT_SECRET=YOUR_PRODUCTION_JWT_SECRET_DIFFERENT_FROM_SECRET_KEY_ALSO_64_CHARS
ENCRYPTION_KEY=YOUR_32_BYTE_AES_256_ENCRYPTION_KEY!

# CORS Settings (strict production domains)
CORS_ORIGINS=https://app.dexsniperpo.com,https://www.dexsniperpo.com

# Additional Security Headers
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
CSRF_PROTECTION=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=WARNING
LOG_FORMAT=json
LOG_RETENTION_DAYS=365
CONSOLE_LOGGING=false

# Centralized logging
LOG_AGGREGATOR_URL=https://logs.dexsniperpo.com/api/v1/logs
LOG_AGGREGATOR_API_KEY=YOUR_LOG_AGGREGATOR_API_KEY

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# AI Features (production ready)
AI_FEATURES_ENABLED=true
AUTO_TUNING_MODE=advisory

# Advanced Features (carefully enabled)
ENABLE_MEMPOOL_MONITORING=true
ENABLE_COPY_TRADING=true
ENABLE_TELEGRAM_ALERTS=true
ENABLE_PRIVATE_ORDERFLOW=true

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================
# Email Alerts (enterprise mail service)
EMAIL_SMTP_SERVER=smtp.sendgrid.net
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=apikey
EMAIL_PASSWORD=YOUR_SENDGRID_ENTERPRISE_API_KEY
EMAIL_FROM=alerts@dexsniperpo.com
EMAIL_TO=production-alerts@dexsniperpo.com,ops-team@dexsniperpo.com

# Telegram Alerts (production bot)
TELEGRAM_BOT_TOKEN=YOUR_PRODUCTION_TELEGRAM_BOT_TOKEN
TELEGRAM_CHAT_ID=YOUR_PRODUCTION_TELEGRAM_CHAT_ID

# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/PRODUCTION/WEBHOOK
SLACK_CHANNEL=#dex-sniper-alerts

# PagerDuty for critical alerts
PAGERDUTY_API_KEY=YOUR_PAGERDUTY_API_KEY
PAGERDUTY_SERVICE_KEY=YOUR_PAGERDUTY_SERVICE_KEY

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Request Timeouts (optimized for speed)
RPC_TIMEOUT_SECONDS=10
API_TIMEOUT_SECONDS=15
HEALTH_CHECK_INTERVAL_SECONDS=5

# Rate Limiting (production limits)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis-cluster.internal:6379/0
REDIS_CLUSTER_ENABLED=true
CACHE_TTL_SECONDS=60
CACHE_ENABLED=true

# Memory caching
MEMORY_CACHE_SIZE_MB=512
MEMORY_CACHE_TTL_SECONDS=30

# =============================================================================
# MONITORING & METRICS
# =============================================================================
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001
PROMETHEUS_RETENTION_DAYS=30

# Health check endpoints
HEALTH_CHECK_PATH=/health
METRICS_PATH=/metrics
READINESS_PATH=/ready
LIVENESS_PATH=/live

# APM Integration
NEW_RELIC_LICENSE_KEY=YOUR_NEW_RELIC_LICENSE_KEY
DATADOG_API_KEY=YOUR_DATADOG_API_KEY

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM UTC
BACKUP_RETENTION_DAYS=365
BACKUP_S3_BUCKET=dex-sniper-production-backups
BACKUP_S3_REGION=us-east-1
BACKUP_ENCRYPTION_ENABLED=true

# Database backup
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 */6 * * *  # Every 6 hours
DB_BACKUP_RETENTION_DAYS=90

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/dexsniperpo.com.crt
SSL_KEY_PATH=/etc/ssl/private/dexsniperpo.com.key
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
WORKER_PROCESSES=16
WORKER_THREADS=32
WORKER_MAX_REQUESTS=2000
WORKER_MAX_REQUESTS_JITTER=200
WORKER_TIMEOUT=30

# Async worker pools
ASYNC_WORKER_POOL_SIZE=100
ASYNC_WORKER_MAX_OVERFLOW=200

# =============================================================================
# AUTO-SCALING CONFIGURATION
# =============================================================================
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=2
MAX_INSTANCES=20
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_PATH=/var/log/dex-sniper-pro/audit.log
COMPLIANCE_MODE=production
GDPR_COMPLIANCE=true
SOX_COMPLIANCE=true

# Data retention policies
USER_DATA_RETENTION_DAYS=2555  # 7 years
TRANSACTION_DATA_RETENTION_DAYS=2555  # 7 years
LOG_DATA_RETENTION_DAYS=365

# =============================================================================
# DISASTER RECOVERY
# =============================================================================
DR_ENABLED=true
DR_REGION=us-west-2
DR_SYNC_INTERVAL=300  # 5 minutes
DR_FAILOVER_THRESHOLD=600  # 10 minutes

# =============================================================================
# LOAD BALANCER CONFIGURATION
# =============================================================================
LOAD_BALANCER_ENABLED=true
HEALTH_CHECK_URL=/health
LOAD_BALANCER_TIMEOUT=30
STICKY_SESSIONS=false

# =============================================================================
# CDN CONFIGURATION
# =============================================================================
CDN_ENABLED=true
CDN_ENDPOINT=https://cdn.dexsniperpo.com
STATIC_ASSETS_VERSION=v1.0.0

# =============================================================================
# PRODUCTION SECURITY SETTINGS
# =============================================================================
# WAF Configuration
WAF_ENABLED=true
DDOS_PROTECTION=true
IP_WHITELIST_ENABLED=false  # Use with caution

# Intrusion Detection
IDS_ENABLED=true
ANOMALY_DETECTION=true

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# 1. All secrets must be stored in secure secret management systems
# 2. Regular security audits and penetration testing required
# 3. 24/7 monitoring and on-call procedures must be in place
# 4. Disaster recovery procedures must be tested quarterly
# 5. All deployments must go through staging environment first
# 6. Performance baselines must be established and monitored
# 7. Compliance audits must be conducted annually
# 8. Backup restoration procedures must be tested monthly