# DEX Sniper Pro - Environment Configuration Template
# Copy this file to .env and configure for your environment

# =====================================
# APPLICATION CONFIGURATION
# =====================================

# Environment: development, staging, production
ENVIRONMENT=development

# Application settings
APP_NAME="DEX Sniper Pro"
APP_VERSION="1.0.0"
DEBUG=false

# Server configuration
HOST=127.0.0.1
PORT=8000
RELOAD=true
WORKERS=1
MAX_REQUEST_SIZE=16777216  # 16MB
REQUEST_TIMEOUT=30

# =====================================
# SECURITY CONFIGURATION - REQUIRED
# =====================================

# JWT Configuration (REQUIRED in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=your_jwt_secret_here_minimum_64_characters_for_production_security
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=dex-sniper-pro
JWT_AUDIENCE=dex-sniper-pro

# Encryption Key (REQUIRED in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
ENCRYPTION_KEY=your_encryption_key_here_minimum_64_characters_for_production_security

# API Keys (Optional - comma separated)
# Generate with: python -c "import secrets; print(f'api_key_{secrets.token_urlsafe(32)}')"
VALID_API_KEYS=api_key_development_example_12345678901234567890123456789012

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=600

# =====================================
# DATABASE CONFIGURATION
# =====================================

# SQLite (Development/Testing)
DATABASE__SQLITE_URL=sqlite:///./data/dex_sniper.db
DATABASE__SQLITE_ECHO=false
DATABASE__SQLITE_TIMEOUT=30

# PostgreSQL (Production)
DATABASE__POSTGRES_HOST=localhost
DATABASE__POSTGRES_PORT=5432
DATABASE__POSTGRES_DB=dex_sniper_pro
DATABASE__POSTGRES_USER=dex_user
DATABASE__POSTGRES_PASSWORD=your_secure_database_password
DATABASE__POSTGRES_SSL_MODE=prefer
DATABASE__POSTGRES_POOL_SIZE=10
DATABASE__POSTGRES_MAX_OVERFLOW=20
DATABASE__POSTGRES_POOL_TIMEOUT=30
DATABASE__POSTGRES_CONNECT_TIMEOUT=10

# =====================================
# RATE LIMITING CONFIGURATION
# =====================================

# Rate limiting
SECURITY__RATE_LIMIT_ENABLED=true
SECURITY__RATE_LIMIT_REDIS_URL=redis://localhost:6379/0
SECURITY__RATE_LIMIT_FALLBACK_MEMORY=true

# Rate limit defaults (calls per period in seconds)
SECURITY__RATE_LIMIT_STRICT_CALLS=10
SECURITY__RATE_LIMIT_STRICT_PERIOD=60
SECURITY__RATE_LIMIT_NORMAL_CALLS=60
SECURITY__RATE_LIMIT_NORMAL_PERIOD=60
SECURITY__RATE_LIMIT_RELAXED_CALLS=300
SECURITY__RATE_LIMIT_RELAXED_PERIOD=60
SECURITY__RATE_LIMIT_TRADING_CALLS=20
SECURITY__RATE_LIMIT_TRADING_PERIOD=60

# =====================================
# WEBSOCKET CONFIGURATION
# =====================================

SECURITY__WEBSOCKET_MAX_CONNECTIONS=100
SECURITY__WEBSOCKET_MAX_MESSAGE_SIZE=65536  # 64KB
SECURITY__WEBSOCKET_HEARTBEAT_INTERVAL=30
SECURITY__WEBSOCKET_CONNECTION_TIMEOUT=300  # 5 minutes
SECURITY__WEBSOCKET_RATE_LIMIT_MESSAGES=60
SECURITY__WEBSOCKET_RATE_LIMIT_PERIOD=60

# =====================================
# BLOCKCHAIN RPC ENDPOINTS
# =====================================

# Default chain for new pair discovery
DEFAULT_CHAIN=base

# Supported chains (comma separated)
SUPPORTED_CHAINS=ethereum,bsc,polygon,base,arbitrum,solana

# RPC Endpoints (Use your own for production)
ETHEREUM_RPC=https://eth.llamarpc.com
BSC_RPC=https://bsc-dataseed1.binance.org
POLYGON_RPC=https://polygon-rpc.com
BASE_RPC=https://mainnet.base.org
ARBITRUM_RPC=https://arb1.arbitrum.io/rpc
SOLANA_RPC=https://api.mainnet-beta.solana.com

# RPC Configuration
RPC_TIMEOUT=30
RPC_RETRY_ATTEMPTS=3
RPC_RETRY_DELAY=1.0
RPC_MAX_CONNECTIONS=100

# =====================================
# TRADING CONFIGURATION
# =====================================

# Trading parameters
DEFAULT_SLIPPAGE=0.01  # 1%
MAX_SLIPPAGE=0.05      # 5%
DEFAULT_GAS_MULTIPLIER=1.2
MAX_GAS_MULTIPLIER=3.0

# Risk limits (GBP-based)
MAX_POSITION_SIZE_GBP=100
DAILY_LOSS_LIMIT_GBP=500
MAX_DAILY_TRADES=100
COOLDOWN_BETWEEN_TRADES_SECONDS=1

# Autotrade settings
AUTOTRADE_ENABLED=false
AUTOTRADE_HOT_WALLET_CAP_GBP=1000
AUTOTRADE_MAX_CONCURRENT_TRADES=5
AUTOTRADE_EMERGENCY_STOP_ENABLED=true

# =====================================
# EXTERNAL API KEYS (Optional)
# =====================================

# Dexscreener API (for pair discovery)
DEXSCREENER_API_KEY=your_dexscreener_api_key_here

# CoinGecko API (for price feeds)
COINGECKO_API_KEY=your_coingecko_api_key_here

# Blockchain Explorer APIs (for transaction verification)
ETHERSCAN_API_KEY=your_etherscan_api_key_here
BSCSCAN_API_KEY=your_bscscan_api_key_here
POLYGONSCAN_API_KEY=your_polygonscan_api_key_here
ARBISCAN_API_KEY=your_arbiscan_api_key_here
BASESCAN_API_KEY=your_basescan_api_key_here

# External API configuration
EXTERNAL_API_TIMEOUT=10
EXTERNAL_API_RETRY_ATTEMPTS=2
EXTERNAL_API_RATE_LIMIT_DELAY=0.1

# =====================================
# LOGGING CONFIGURATION
# =====================================

# Logging settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_RETENTION_DAYS=90
LOG_MAX_FILE_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_COMPRESS_ROTATED=true

# =====================================
# LEDGER CONFIGURATION
# =====================================

# Ledger/audit trail settings
LEDGER_RETENTION_DAYS=730
LEDGER_FORMAT=csv
LEDGER_BACKUP_ENABLED=true
LEDGER_ENCRYPTION_ENABLED=false

# =====================================
# FEATURE FLAGS
# =====================================

# Enable/disable features
ENABLE_MEMPOOL_MONITORING=false
ENABLE_COPY_TRADING=false
ENABLE_TELEGRAM_ALERTS=false
ENABLE_ADVANCED_ANALYTICS=false
ENABLE_BACKTESTING=false

# =====================================
# TELEGRAM CONFIGURATION (Optional)
# =====================================

# Telegram bot for alerts
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here
TELEGRAM_RATE_LIMIT=20  # messages per minute

# =====================================
# MONITORING & ALERTING
# =====================================

# Health checks and monitoring
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true

# =====================================
# DEVELOPMENT SETTINGS
# =====================================

# Development-specific settings (ignored in production)
RELOAD=true

# =====================================
# NOTES
# =====================================

# 1. Generate secure secrets for production:
#    python -c "import secrets; print('JWT_SECRET=' + secrets.token_urlsafe(64))"
#    python -c "import secrets; print('ENCRYPTION_KEY=' + secrets.token_urlsafe(64))"

# 2. For production deployment:
#    - Set ENVIRONMENT=production
#    - Configure PostgreSQL database
#    - Set up Redis for rate limiting
#    - Use secure, randomly generated secrets
#    - Configure proper CORS origins
#    - Set up proper RPC endpoints

# 3. Security best practices:
#    - Never commit actual secrets to version control
#    - Use different secrets for each environment
#    - Rotate secrets regularly
#    - Use environment-specific configuration files

# 4. Required for production:
#    - JWT_SECRET (64+ characters)
#    - ENCRYPTION_KEY (64+ characters)
#    - Database configuration
#    - Proper CORS origins
#    - Redis for rate limiting (recommended)