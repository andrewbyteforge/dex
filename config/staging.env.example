# DEX Sniper Pro - Staging Environment Configuration
# File: config/staging.env.example

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=staging
DEBUG=false
SERVICE_MODE=premium

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
RELOAD=false

# Frontend Configuration
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://dex_user:staging_password@localhost:5432/dex_sniper_staging
DATABASE_ECHO=false
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# Connection pooling
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# BLOCKCHAIN RPC ENDPOINTS (TESTNETS WITH FALLBACKS)
# =============================================================================
# Ethereum Sepolia Testnet
ETHEREUM_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
ETHEREUM_RPC_FALLBACK=https://rpc.sepolia.org,https://ethereum-sepolia.publicnode.com
ETHEREUM_CHAIN_ID=11155111

# BSC Testnet
BSC_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545/
BSC_RPC_FALLBACK=https://data-seed-prebsc-2-s1.binance.org:8545/
BSC_CHAIN_ID=97

# Polygon Mumbai Testnet
POLYGON_RPC_URL=https://polygon-mumbai.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
POLYGON_RPC_FALLBACK=https://rpc-mumbai.maticvigil.com/,https://polygon-testnet.public.blastapi.io
POLYGON_CHAIN_ID=80001

# Base Sepolia Testnet
BASE_RPC_URL=https://sepolia.base.org
BASE_RPC_FALLBACK=https://base-sepolia.public.blastapi.io
BASE_CHAIN_ID=84532

# Arbitrum Sepolia Testnet
ARBITRUM_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
ARBITRUM_RPC_FALLBACK=https://arbitrum-sepolia.public.blastapi.io
ARBITRUM_CHAIN_ID=421614

# Solana Devnet
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_RPC_FALLBACK=https://devnet.helius-rpc.com
SOLANA_CLUSTER=devnet

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
DEFAULT_CHAIN=base
DEFAULT_SLIPPAGE=0.008
MAX_SLIPPAGE=0.03
DEFAULT_GAS_MULTIPLIER=1.15

# Risk Limits (GBP-based, realistic for staging)
MAX_POSITION_SIZE_GBP=500.00
DAILY_LOSS_LIMIT_GBP=1000.00

# Autotrade Settings (enabled for testing)
AUTOTRADE_ENABLED=true
AUTOTRADE_HOT_WALLET_CAP_GBP=2500.00

# =============================================================================
# EXTERNAL API KEYS (PRODUCTION KEYS RECOMMENDED)
# =============================================================================
# Price Data
COINGECKO_API_KEY=YOUR_PRODUCTION_COINGECKO_KEY
DEXSCREENER_API_KEY=YOUR_PRODUCTION_DEXSCREENER_KEY

# Blockchain Explorers
ETHERSCAN_API_KEY=YOUR_PRODUCTION_ETHERSCAN_KEY
BSCSCAN_API_KEY=YOUR_PRODUCTION_BSCSCAN_KEY
POLYGONSCAN_API_KEY=YOUR_PRODUCTION_POLYGONSCAN_KEY
BASESCAN_API_KEY=YOUR_PRODUCTION_BASESCAN_KEY
ARBISCAN_API_KEY=YOUR_PRODUCTION_ARBISCAN_KEY

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY=YOUR_SECURE_SECRET_KEY_32_CHARS_MIN
JWT_SECRET=YOUR_SECURE_JWT_SECRET_FOR_STAGING
ENCRYPTION_KEY=YOUR_32_BYTE_ENCRYPTION_KEY_HERE!

# CORS Settings (restrictive)
CORS_ORIGINS=https://staging.dexsniperpo.com,https://staging-app.dexsniperpo.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_RETENTION_DAYS=90
CONSOLE_LOGGING=false

# Log file paths
LOG_FILE_PATH=/var/log/dex-sniper-pro/app.log
ERROR_LOG_PATH=/var/log/dex-sniper-pro/error.log

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# AI Features (enabled for testing)
AI_FEATURES_ENABLED=true
AUTO_TUNING_MODE=advisory

# Advanced Features (selective enablement)
ENABLE_MEMPOOL_MONITORING=true
ENABLE_COPY_TRADING=false
ENABLE_TELEGRAM_ALERTS=true
ENABLE_PRIVATE_ORDERFLOW=false

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================
# Email Alerts
EMAIL_SMTP_SERVER=smtp.sendgrid.net
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=apikey
EMAIL_PASSWORD=YOUR_SENDGRID_API_KEY
EMAIL_FROM=alerts@dexsniperpo.com
EMAIL_TO=staging-alerts@dexsniperpo.com

# Telegram Alerts
TELEGRAM_BOT_TOKEN=YOUR_PRODUCTION_TELEGRAM_BOT_TOKEN
TELEGRAM_CHAT_ID=YOUR_STAGING_TELEGRAM_CHAT_ID

# Webhook Alerts
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
WEBHOOK_TIMEOUT=10

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Request Timeouts (production-like)
RPC_TIMEOUT_SECONDS=20
API_TIMEOUT_SECONDS=30
HEALTH_CHECK_INTERVAL_SECONDS=15

# Rate Limiting (enabled)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=300

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/1
CACHE_TTL_SECONDS=300
CACHE_ENABLED=true

# =============================================================================
# MONITORING & METRICS
# =============================================================================
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001

# Health check endpoints
HEALTH_CHECK_PATH=/health
METRICS_PATH=/metrics

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=dex-sniper-staging-backups
BACKUP_S3_REGION=us-east-1

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/staging.dexsniperpo.com.crt
SSL_KEY_PATH=/etc/ssl/private/staging.dexsniperpo.com.key

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================
WORKER_PROCESSES=4
WORKER_THREADS=8
WORKER_MAX_REQUESTS=1000
WORKER_MAX_REQUESTS_JITTER=100

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Test Database
TEST_DATABASE_URL=postgresql://dex_user:staging_password@localhost:5432/dex_sniper_test

# Integration Testing
INTEGRATION_TESTS_ENABLED=true
PERFORMANCE_TESTS_ENABLED=true

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
DEPLOY_ENV=staging
DEPLOY_VERSION=1.0.0-staging
DEPLOY_TIMESTAMP=2025-08-21T00:00:00Z

# Container settings
CONTAINER_NAME=dex-sniper-staging
CONTAINER_RESTART_POLICY=unless-stopped

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_PATH=/var/log/dex-sniper-pro/audit.log
COMPLIANCE_MODE=staging

# =============================================================================
# STAGING-SPECIFIC NOTES
# =============================================================================
# 1. This environment mirrors production configuration but uses testnets
# 2. All features should be enabled and tested here before production
# 3. Use production-level API keys for realistic testing
# 4. Monitor performance metrics closely
# 5. Test deployment procedures and rollback scenarios
# 6. Validate all alert channels are working
# 7. Run full security scans and penetration tests